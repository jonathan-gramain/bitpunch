/*
 * Example bitpunch schema file for a simple key-value database format
 *
 * Records are appended one after the other until the end of file is
 * reached.
 */

let u32 = byte[4]: integer { signed: false; endian: 'big'; };

let DumbDBValue = struct {
    byte flags : integer { signed: false; };
    u32 key_size;
    key_data: byte[key_size]: string;
    u32 value_size;
    value_data: byte[value_size];
    key key_data;
};

file {
    DumbDBValue[] values;
}
